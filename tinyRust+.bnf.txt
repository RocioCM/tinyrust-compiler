#------------------------sintaxis completa de tinyRust+-------------------
Start ::= Main
Start ::= Clases Main
Clases ::= Clase Clases
Clases ::= Clase

Main ::= "{" "static fn main ()" Bloque Miembros"}"
Main ::= "{" "static fn main ()" Bloque "}"
Miembros ::= Miembro Miembros
Miembros ::= Miembro

Clase ::= "class" "idClase" "{" "}"
Clase ::= "class" "idClase" Herencia "{" "}"
Clase ::= "class" "idClase" "{" Miembros "}"
Clase ::= "class" "idClase" Herencia "{" Miembros "}"
Herencia ::= ":" "idClase" 
Miembro ::= Atributo | Constructor | Metodo
Atributo ::= Tipo ":" Lista-Declaración-Variables ";"
Atributo ::= Visibilidad Tipo ":" Lista-Declaración-Variables ";"

Constructor ::= "create" Argumentos-Formales Bloque
Método ::= "fn" "idMétodoVariable" "->" Tipo-Metodo Argumentos-Formales Bloque-Metodo
Método ::= Forma-Metodo "fn" "idMétodoVariable" "->" Tipo-Metodo Argumentos-Formales Bloque-Metodo

Argumentos-Formales ::= "(" ")"
Argumentos-Formales ::= "(" Lista-Argumentos-Formales ")"

Lista-Argumentos-Formales ::= Argumento-Formal "," Lista-Argumentos-Formales | Argumento-Formal
Argumento-Formal ::= Tipo ":" "idMétodoVariable" 
Forma-Método ::= "static"
Visibilidad ::= "pub"
Tipo-Método ::= Tipo | void
Tipo ::= Tipo-Primitivo | Tipo-Referencia | Tipo-Array
Tipo-Primitivo ::= "Bool" | "I32" | "Str" | "Char"
Tipo-Referencia ::= "idClase" 
Tipo-Array ::= "Array" Tipo-Primitivo 
Lista-Declaración-Variables::= "idMétodoVariable" | "idMétodoVariable" "," Lista-Declaracion-Variables
Bloque-Método ::= "{" "}"
Bloque-Método ::= "{" Sentencias "}"
Bloque-Método ::= "{" Decl-Var-LocalesN "}"
Bloque-Método ::= "{" Decl-Var-LocalesN Sentencias "}"

Decl-Var-LocalesN := Decl-Var-Locales Decl-Var-LocalesN
Decl-Var-LocalesN := Decl-Var-Locales

Decl-Var-Locales ::= "var" Tipo Lista-Declaracion-Variables

Sentencia ::= ";"
    | Asignacion";" 
    | Sentencia-Simple ";" 
    | "if" "(" Expresion ")" Sentencia 
    | "if" "(" Expresion ")" Sentencia "else" Sentencia
    | "while" "(" Expresion ")" Sentencia
    | Bloque
    | "return" Expresion";"
    | "return" ";"

Bloque ::= "{" "}"
Bloque ::= "{" Sentencias "}"

Sentencias ::= Sentencia
Sentencias ::= Sentencia Sentencias

Asignacion ::= Asignacion-Variable-Simple "="" Expresión | Asignación-Self-Simple "="" Expresion
Asignacion-Variable-Simple  ::= "id" | "id" "[" Expresion "]"
Asignacion-Variable-Simple  ::= "id" Encadenado-SimpleN | "id" "[" Expresion "]"

Encadenado-SimpleN ::= Encadenado-Simple Encadenado-SimpleN | Encadenado-Simple

Asignacion-Self-Simple ::= "self" | "self" Encadenado-SimpleN

Encadenado-Simple ::= "." "id"

Sentencia-Simple ::= "(" Expresion ")" 

Expresion ::= ExpOr
ExpOr ::= ExpOr "||" ExpAnd | ExpAnd
ExpAnd ::= ExpAnd "&&" ExpIgual | ExpIgual
ExpIgual ::= ExpIgual OpIgual ExpCompuesta | ExpCompuesta
ExpCompuesta ::= ExpAdd OpCompuesto ExpAdd | ExpAdd
ExpAdd ::= ExpAdd OpAdd ExpMul | ExpMul
ExpMul ::= ExpMul OpMul ExpUn | ExpUn
ExpUn ::= OpUnario ExpUn | Operando

OpIgual ::= "==" | "!="
OpCompuesto ::= "<" | ">" | "<=" | ">="
OpAd ::= "+" | "-"
OpUnario ::= "+" | "-" | "!"
OpMul ::= "*" | "/" | "%"
Operando ::= Literal | Primario | Primario Encadenado
Literal ::= "nil" | "true" | "false" | "intLiteral" | "stringLiteral" | "charLiteral"
Primario ::= ExpresionParentizada | AccesoSelf | AccesoVar  | Llamada-Metodo  | Llamada-MetodoEstatico | Llamada-Constructor
ExpresionParentizada ::= "(" Expresion ")" Encadenado | "(" Expresion ")" 
AccesoSelf ::= "self" Encadenado | "self" 
AccesoVar ::= "id" Encadenado | "id" 
Llamada-Método ::= "id" ArgsActuales Encadenado | "id" ArgsActuales
Llamada-Método-Estático ::= "idClase" "." Llamada-Metodo Encadenado | "idClase" "." Llamada-Metodo
Llamada-Constructor ::= "new" "idClase" Argumentos-Actuales | "new" "idClase" Argumentos-Actuales Encadenado | "new" Tipo-Primitivo "[" Expresion "]"

Argumentos-Actuales ::= "(" ")"
Argumentos-Actuales ::= "(" Lista-Expresiones ")"
Lista-Expresiones ::= Expresion | Expresion "," Lista-Expresiones
Encadenado ::= "." Llamada-Metodo-Encadenado 
    | "." Acceso-Variable-Encadenado
 
Llamada-Método-Encadenado ::= "id" Argumentos-Actuales | "id" Argumentos-Actuales Encadenado
Acceso-Variable-Encadenado ::= "id" | "id" Encadenado | id "[" Expresion "]"


#----------------------------fin gramática tinyRust+---------------------------------